<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<style>
.AlignLeft { text-align: left; }
.AlignCenter { text-align: center; }
.AlignRight { text-align: right; }
body { font-family: sans-serif; font-size: 11pt; }
td { vertical-align: top; padding-left: 4px; padding-right: 4px; }

tr.SectionGap td { font-size: 4px; border-left: none; border-top: none; border-bottom: 1px solid Black; border-right: 1px solid Black; }
tr.SectionAll td { border-left: none; border-top: none; border-bottom: 1px solid Black; border-right: 1px solid Black; }
tr.SectionBegin td { border-left: none; border-top: none; border-right: 1px solid Black; }
tr.SectionEnd td { border-left: none; border-top: none; border-bottom: 1px solid Black; border-right: 1px solid Black; }
tr.SectionMiddle td { border-left: none; border-top: none; border-right: 1px solid Black; }
tr.SubsectionAll td { border-left: none; border-top: none; border-bottom: 1px solid Gray; border-right: 1px solid Black; }
tr.SubsectionEnd td { border-left: none; border-top: none; border-bottom: 1px solid Gray; border-right: 1px solid Black; }
table.fc { border-top: 1px solid Black; border-left: 1px solid Black; width: 100%; font-family: monospace; font-size: 10pt; }
td.TextItemInsigAdd { color: #000000; background-color: #FFF9D7; font-weight: bold; }
td.TextItemInsigDel { color: #000000; background-color: #FFF9D7; font-weight: bold; text-decoration: line-through; }
td.TextItemInsigDiffMod { color: #000000; background-color: #FFF9D7; font-weight: bold; }
td.TextItemInsigLeftMod { color: #000000; background-color: #E9F9F5; font-weight: bold; }
td.TextItemInsigRightMod { color: #000000; background-color: #FDEBFF; font-weight: bold; }
td.TextItemNum { color: #827357; background-color: #F2F2F2; }
td.TextItemSame { color: #000000; background-color: #FFFFFF; font-weight: bold; }
td.TextItemSigAdd { color: #000000; background-color: #FFE3E3; font-weight: bold; }
td.TextItemSigDel { color: #000000; background-color: #FFE3E3; font-weight: bold; text-decoration: line-through; }
td.TextItemSigDiffMod { color: #000000; background-color: #FFE3E3; font-weight: bold; }
td.TextItemSigLeftMod { color: #000000; background-color: #DCF6F6; font-weight: bold; }
td.TextItemSigRightMod { color: #000000; background-color: #F8E3FF; font-weight: bold; }
.TextSegInsigDiff { color: #0000FF; }
.TextSegReplacedDiff { color: #0000FF; font-style: italic; }
.TextSegSigDiff { color: #FF0000; }
.TextSegElementKeyword { font-weight: bold; }
.TextSegElementIdentifier { }
.TextSegElementNumber { color: #2E9269; }
.TextSegElementComment { color: #786A41; }
.TextSegElementOperator { }
</style>
<title>Error -All</title>
</head>
<body>
Error -All<br/>
Produced: 24/01/2019 08:40:22<br/>
&nbsp; &nbsp;
<br/>
Mode:&nbsp; Differences, With Context &nbsp;
<br/>
Left file: S:\repos\serverZero_rel21\src\game\Object\LootMgr.cpp &nbsp;
<br/>
Right file: S:\repos\serverZero_Ant\src\game\Object\LootMgr.cpp &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">42</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CONFIG_FLOAT_RATE_DROP_ITEM_RARE</span><span class="TextSegElementOperator">,</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementComment">// ITEM_QUALITY_RARE</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">42</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CONFIG_FLOAT_RATE_DROP_ITEM_RARE</span><span class="TextSegElementOperator">,</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementComment">// ITEM_QUALITY_RARE</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">43</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CONFIG_FLOAT_RATE_DROP_ITEM_EPIC</span><span class="TextSegElementOperator">,</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementComment">// ITEM_QUALITY_EPIC</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">43</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CONFIG_FLOAT_RATE_DROP_ITEM_EPIC</span><span class="TextSegElementOperator">,</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementComment">// ITEM_QUALITY_EPIC</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">44</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CONFIG_FLOAT_RATE_DROP_ITEM_LEGENDARY</span><span class="TextSegElementOperator">,</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// ITEM_QUALITY_LEGENDARY</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">44</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CONFIG_FLOAT_RATE_DROP_ITEM_LEGENDARY</span><span class="TextSegElementOperator">,</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// ITEM_QUALITY_LEGENDARY</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">45</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CONFIG_FLOAT_RATE_DROP_ITEM_ARTIFACT</span><span class="TextSegElementOperator">,</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementComment">// ITEM_QUALITY_ARTIFACT</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">45</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CONFIG_FLOAT_RATE_DROP_ITEM_ARTIFACT</span><span class="TextSegElementOperator">,</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementComment">// ITEM_QUALITY_ARTIFACT</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">46</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">46</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">47</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">47</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">48</td>
<td class="TextItemSigDiffMod">LootStore LootTemplates_Creature(&quot;<span class="TextSegSigDiff">creature_</span>loot_template&quot;,&nbsp; &nbsp;&nbsp; &quot;creature entry&quot;,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; true);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">48</td>
<td class="TextItemSigDiffMod">LootStore LootTemplates_Creature(&quot;loot_template&quot;,&nbsp; &nbsp;&nbsp; &quot;creature entry&quot;,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; true);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">49</td>
<td class="TextItemSigDiffMod">LootStore LootTemplates_Disenchant(&quot;<span class="TextSegSigDiff">disenchant_</span>loot_template&quot;,&nbsp;&nbsp; &quot;item disenchant id&quot;,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; true);</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">49</td>
<td class="TextItemSigDiffMod">LootStore LootTemplates_Disenchant(&quot;loot_template&quot;,&nbsp;&nbsp; &quot;item disenchant id&quot;,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; true);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">50</td>
<td class="TextItemSigDiffMod">LootStore LootTemplates_Fishing(&quot;<span class="TextSegSigDiff">fishing_</span>loot_template&quot;,&nbsp; &nbsp; &nbsp; &quot;area id&quot;,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; true);</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">50</td>
<td class="TextItemSigDiffMod">LootStore LootTemplates_Fishing(&quot;loot_template&quot;,&nbsp; &nbsp; &nbsp; &quot;area id&quot;,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; true);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">51</td>
<td class="TextItemSigDiffMod">LootStore LootTemplates_Gameobject(&quot;<span class="TextSegSigDiff">gameobject_</span>loot_template&quot;,&nbsp;&nbsp; &quot;gameobject lootid&quot;,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; true);</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">51</td>
<td class="TextItemSigDiffMod">LootStore LootTemplates_Gameobject(&quot;loot_template&quot;,&nbsp;&nbsp; &quot;gameobject lootid&quot;,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; true);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">52</td>
<td class="TextItemSigDiffMod">LootStore LootTemplates_Item(&quot;<span class="TextSegSigDiff">item_</span>loot_template&quot;,&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &quot;item entry with ITEM_FLAG_LOOTABLE&quot;, true);</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">52</td>
<td class="TextItemSigDiffMod">LootStore LootTemplates_Item(&quot;loot_template&quot;,&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &quot;item entry with ITEM_FLAG_LOOTABLE&quot;, true);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">53</td>
<td class="TextItemSigDiffMod">LootStore LootTemplates_Mail(&quot;<span class="TextSegSigDiff">mail_</span>loot_template&quot;,&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &quot;mail template id&quot;,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; false);</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">53</td>
<td class="TextItemSigDiffMod">LootStore LootTemplates_Mail(&quot;loot_template&quot;,&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &quot;mail template id&quot;,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; false);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">54</td>
<td class="TextItemSigDiffMod">LootStore LootTemplates_Pickpocketing(&quot;<span class="TextSegSigDiff">pickpocketing_</span>loot_template&quot;, &quot;creature pickpocket lootid&quot;,&nbsp; &nbsp;&nbsp; true);</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">54</td>
<td class="TextItemSigDiffMod">LootStore LootTemplates_Pickpocketing(&quot;loot_template&quot;, &quot;creature pickpocket lootid&quot;,&nbsp; &nbsp;&nbsp; true);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">55</td>
<td class="TextItemSigDiffMod">LootStore LootTemplates_Reference(&quot;<span class="TextSegSigDiff">reference_</span>loot_template&quot;,&nbsp; &nbsp; &quot;reference id&quot;,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; false);</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">55</td>
<td class="TextItemSigDiffMod">LootStore LootTemplates_Reference(&quot;loot_template&quot;,&nbsp; &nbsp; &quot;reference id&quot;,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; false);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">56</td>
<td class="TextItemSigDiffMod">LootStore LootTemplates_Skinning(&quot;<span class="TextSegSigDiff">skinning_</span>loot_template&quot;,&nbsp; &nbsp;&nbsp; &quot;creature skinning id&quot;,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; true);</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">56</td>
<td class="TextItemSigDiffMod">LootStore LootTemplates_Skinning(&quot;loot_template&quot;,&nbsp; &nbsp;&nbsp; &quot;creature skinning id&quot;,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; true);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">57</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">57</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">58</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">class</span> <span class="TextSegElementIdentifier">LootTemplate</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">LootGroup</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementComment">// A set of loot definitions for items (refs are not allowed)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">58</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">class</span> <span class="TextSegElementIdentifier">LootTemplate</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">LootGroup</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementComment">// A set of loot definitions for items (refs are not allowed)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">59</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">59</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">60</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">public</span><span class="TextSegElementOperator">:</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">60</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">public</span><span class="TextSegElementOperator">:</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">61</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">AddEntry</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootStoreItem</span><span class="TextSegElementOperator">&amp;</span> <span class="TextSegElementIdentifier">item</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementComment">// Adds an entry to the group (at loading stage)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">61</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">AddEntry</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootStoreItem</span><span class="TextSegElementOperator">&amp;</span> <span class="TextSegElementIdentifier">item</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementComment">// Adds an entry to the group (at loading stage)</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">62</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">bool</span> <span class="TextSegElementIdentifier">HasQuestDrop</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// True if group includes at least 1 quest drop entry</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">62</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">bool</span> <span class="TextSegElementIdentifier">HasQuestDrop</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// True if group includes at least 1 quest drop entry</span></td>
</tr>
<tr class="SectionGap"><td colspan="5">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">78</td>
<td class="TextItemSame"><span class="TextSegElementComment">&nbsp; &nbsp; &nbsp; &nbsp; */</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">78</td>
<td class="TextItemSame"><span class="TextSegElementComment">&nbsp; &nbsp; &nbsp; &nbsp; */</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">79</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">bool</span> <span class="TextSegElementIdentifier">HasStartingQuestDropForPlayer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Player</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">player</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">79</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">bool</span> <span class="TextSegElementIdentifier">HasStartingQuestDropForPlayer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Player</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">player</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">80</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">Process</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Loot</span><span class="TextSegElementOperator">&amp;</span> <span class="TextSegElementIdentifier">loot</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementComment">// Rolls an item from the group (if any) and adds the item to the loot</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">80</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">Process</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Loot</span><span class="TextSegElementOperator">&amp;</span> <span class="TextSegElementIdentifier">loot</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementComment">// Rolls an item from the group (if any) and adds the item to the loot</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">81</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">float</span> <span class="TextSegElementIdentifier">RawTotalChance</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementComment">// Overall chance for the group (without equal chanced items)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">81</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">float</span> <span class="TextSegElementIdentifier">RawTotalChance</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementComment">// Overall chance for the group (without equal chanced items)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">82</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">float</span> <span class="TextSegElementIdentifier">TotalChance</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// Overall chance for the group</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">82</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">float</span> <span class="TextSegElementIdentifier">TotalChance</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// Overall chance for the group</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">83</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">83</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">84</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; void Verify(LootStore const&amp; lootstore, uint32 id, uint32 group_id) const;</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">84</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; void Verify(LootStore const&amp; lootstore, uint32 id, uint32 group_id<span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">Loot_TypeId</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">lootTypeId</span>) const;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">85</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; void CheckLootRefs(LootIdSet* ref_set) const;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">85</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; void CheckLootRefs(Loot<span class="TextSegSigDiff">_TypeId</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">lootTypeId</span><span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">Loot</span>IdSet* ref_set) const;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">86</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">private</span><span class="TextSegElementOperator">:</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">86</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">private</span><span class="TextSegElementOperator">:</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">87</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">LootStoreItemList</span> <span class="TextSegElementIdentifier">ExplicitlyChanced</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// Entries with chances defined in DB</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">87</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">LootStoreItemList</span> <span class="TextSegElementIdentifier">ExplicitlyChanced</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// Entries with chances defined in DB</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">88</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">LootStoreItemList</span> <span class="TextSegElementIdentifier">EqualChanced</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementComment">// Zero chances - every entry takes the same chance</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">88</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">LootStoreItemList</span> <span class="TextSegElementIdentifier">EqualChanced</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementComment">// Zero chances - every entry takes the same chance</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">89</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">89</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">90</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">LootStoreItem</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">Roll</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// Rolls an item from the group, returns NULL if all miss their chances</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">90</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">LootStoreItem</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">Roll</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// Rolls an item from the group, returns NULL if all miss their chances</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">91</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">91</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="5">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">97</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementKeyword">delete</span> <span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">second</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">97</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementKeyword">delete</span> <span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">second</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">98</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">m_LootTemplates</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">clear</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">98</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">m_LootTemplates</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">clear</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">99</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">99</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">100</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">100</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">101</td>
<td class="TextItemSame"><span class="TextSegElementComment">// Checks validity of the loot store</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">101</td>
<td class="TextItemSame"><span class="TextSegElementComment">// Checks validity of the loot store</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">102</td>
<td class="TextItemSame"><span class="TextSegElementComment">// Actual checks are done within LootTemplate::Verify() which is called for every template</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">102</td>
<td class="TextItemSame"><span class="TextSegElementComment">// Actual checks are done within LootTemplate::Verify() which is called for every template</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">103</td>
<td class="TextItemSigDiffMod">void LootStore::Verify() const</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">103</td>
<td class="TextItemSigDiffMod">void LootStore::Verify(<span class="TextSegSigDiff">Loot_TypeId</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">lootTypeId</span>) const</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">104</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">104</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">105</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootTemplateMap</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">m_LootTemplates</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">m_LootTemplates</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">105</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootTemplateMap</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">m_LootTemplates</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">m_LootTemplates</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">106</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; { i-&gt;second-&gt;Verify(*this, i-&gt;first); }</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">106</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; { i-&gt;second-&gt;Verify(*this, i-&gt;first<span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">lootTypeId</span>); }</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">107</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">107</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">108</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">108</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">109</td>
<td class="TextItemInsigDiffMod">// Loads a <span class="TextSegInsigDiff">*_</span>loot_template DB table into loot store</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">109</td>
<td class="TextItemInsigDiffMod">// Loads a loot_template DB table into loot store</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">110</td>
<td class="TextItemSame"><span class="TextSegElementComment">// All checks of the loaded template are called from here, no error reports at loot generation required</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">110</td>
<td class="TextItemSame"><span class="TextSegElementComment">// All checks of the loaded template are called from here, no error reports at loot generation required</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">111</td>
<td class="TextItemSigDiffMod">void LootStore::LoadLootTable()</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">111</td>
<td class="TextItemSigDiffMod">void LootStore::LoadLootTable(<span class="TextSegSigDiff">Loot_TypeId</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">lootTypeId</span>)</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">112</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">112</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">113</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootTemplateMap</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">tab</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">113</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootTemplateMap</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">tab</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">114</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">count</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">114</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">count</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">115</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">115</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">116</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// Clearing store (for reloading case)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">116</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// Clearing store (for reloading case)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">117</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Clear</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">117</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Clear</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">118</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">118</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">119</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 0&nbsp; &nbsp; &nbsp; 1&nbsp; &nbsp;&nbsp; 2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3&nbsp; &nbsp; &nbsp; &nbsp; 4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 5&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 6</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">119</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 0&nbsp; &nbsp; &nbsp; 1&nbsp; &nbsp;&nbsp; 2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3&nbsp; &nbsp; &nbsp; &nbsp; 4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 5&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 6</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">120</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; QueryResult* result = WorldDatabase.PQuery(&quot;SELECT entry, item, ChanceOrQuestChance, groupid, mincountOrRef, maxcount, condition_id FROM <span class="TextSegSigDiff">%s</span>&quot;, <span class="TextSegSigDiff">Ge</span><span class="TextSegSigDiff">tName</span><span class="TextSegSigDiff">()</span>);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">120</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; QueryResult* result = WorldDatabase.PQuery(&quot;SELECT entry, item, ChanceOrQuestChance, groupid, mincountOrRef, maxcount, condition_id FROM <span class="TextSegSigDiff">loot_template where lootTypeID=%d</span>&quot;, <span class="TextSegSigDiff">lootTypeId</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">121</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">121</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">122</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">result</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">122</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">result</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">123</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">123</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">124</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BarGoLink</span> <span class="TextSegElementIdentifier">bar</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">result</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">GetRowCount</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">124</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BarGoLink</span> <span class="TextSegElementIdentifier">bar</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">result</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">GetRowCount</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">125</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">125</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">126</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">do</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">126</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">do</span></td>
</tr>
<tr class="SectionGap"><td colspan="5">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">135</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">int32</span>&nbsp; <span class="TextSegElementIdentifier">mincountOrRef</span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">fields</span><span class="TextSegElementOperator">[</span><span class="TextSegElementNumber">4</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetInt32</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">135</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">int32</span>&nbsp; <span class="TextSegElementIdentifier">mincountOrRef</span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">fields</span><span class="TextSegElementOperator">[</span><span class="TextSegElementNumber">4</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetInt32</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">136</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">maxcount</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">fields</span><span class="TextSegElementOperator">[</span><span class="TextSegElementNumber">5</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetUInt32</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">136</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">maxcount</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">fields</span><span class="TextSegElementOperator">[</span><span class="TextSegElementNumber">5</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetUInt32</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">137</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">uint16</span> <span class="TextSegElementIdentifier">conditionId</span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">fields</span><span class="TextSegElementOperator">[</span><span class="TextSegElementNumber">6</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetUInt16</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">137</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">uint16</span> <span class="TextSegElementIdentifier">conditionId</span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">fields</span><span class="TextSegElementOperator">[</span><span class="TextSegElementNumber">6</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetUInt16</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">138</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">138</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">139</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">maxcount</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">std</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">numeric_limits</span><span class="TextSegElementOperator">&lt;</span><span class="TextSegElementIdentifier">uint8</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">max</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">139</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">maxcount</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">std</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">numeric_limits</span><span class="TextSegElementOperator">&lt;</span><span class="TextSegElementIdentifier">uint8</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">max</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">140</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">140</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">141</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sLog.outErrorDb(&quot;Table <span class="TextSegSigDiff">'</span><span class="TextSegSigDiff">%s'</span> entry %u item %u: maxcount value (%u) to large. must be less than %u - skipped&quot;, <span class="TextSegSigDiff">Ge</span><span class="TextSegSigDiff">tName</span><span class="TextSegSigDiff">()</span>, entry, item, maxcount, uint32(std::numeric_limits&lt;uint8&gt;::max()));</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">141</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sLog.outErrorDb(&quot;Table <span class="TextSegSigDiff">`loot_template` (LootType:%d)</span> entry %u item %u: maxcount value (%u) to large. must be less than %u - skipped&quot;, <span class="TextSegSigDiff">lootTypeId</span>, entry, item, maxcount, uint32(std::numeric_limits&lt;uint8&gt;::max()));</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">142</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">continue</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementComment">// error already printed to log/console.</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">142</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">continue</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementComment">// error already printed to log/console.</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">143</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">143</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">144</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">144</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">145</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">conditionId</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">145</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">conditionId</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">146</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">146</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">147</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">PlayerCondition</span><span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">condition</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">sConditionStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LookupEntry</span><span class="TextSegElementOperator">&lt;</span><span class="TextSegElementIdentifier">PlayerCondition</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">conditionId</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">147</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">PlayerCondition</span><span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">condition</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">sConditionStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LookupEntry</span><span class="TextSegElementOperator">&lt;</span><span class="TextSegElementIdentifier">PlayerCondition</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">conditionId</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">148</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">!</span><span class="TextSegElementIdentifier">condition</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">148</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">!</span><span class="TextSegElementIdentifier">condition</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">149</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">149</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">150</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sLog.outErrorDb(&quot;Table `<span class="TextSegSigDiff">%s`</span> for entry %u, item %u has condition_id %u that does not exist in `conditions`, ignoring&quot;, <span class="TextSegSigDiff">Ge</span><span class="TextSegSigDiff">tName</span><span class="TextSegSigDiff">()</span>, entry, item, uint32(conditionId));</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">150</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sLog.outErrorDb(&quot;Table `<span class="TextSegSigDiff">loot_template` (LootType:%d)</span> for entry %u, item %u has condition_id %u that does not exist in `conditions`, ignoring&quot;, <span class="TextSegSigDiff">lootTypeId</span>, entry, item, uint32(conditionId));</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">151</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">continue</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">151</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">continue</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">152</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">152</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">153</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">153</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">154</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">mincountOrRef</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementOperator">&amp;</span><span class="TextSegElementOperator">&amp;</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementIdentifier">PlayerCondition</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">CanBeUsedWithoutPlayer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">conditionId</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">154</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">mincountOrRef</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementOperator">&amp;</span><span class="TextSegElementOperator">&amp;</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementIdentifier">PlayerCondition</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">CanBeUsedWithoutPlayer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">conditionId</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">155</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">155</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">156</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sLog.outErrorDb(&quot;Table <span class="TextSegSigDiff">'</span><span class="TextSegSigDiff">%s'</span> entry %u mincountOrRef %i &lt; 0 and has condition %u that requires a player and is not supported, skipped&quot;, <span class="TextSegSigDiff">Ge</span><span class="TextSegSigDiff">tName</span><span class="TextSegSigDiff">()</span>, entry, mincountOrRef, uint32(conditionId));</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">156</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sLog.outErrorDb(&quot;Table <span class="TextSegSigDiff">`loot_template` (LootType:%d)</span> entry %u mincountOrRef %i &lt; 0 and has condition %u that requires a player and is not supported, skipped&quot;, <span class="TextSegSigDiff">lootTypeId</span>, entry, mincountOrRef, uint32(conditionId));</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">157</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">continue</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">157</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">continue</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">158</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">158</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">159</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">159</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">160</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">160</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">161</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">LootStoreItem</span> <span class="TextSegElementIdentifier">storeitem</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">LootStoreItem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">item</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">chanceOrQuestChance</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">group</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">conditionId</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">mincountOrRef</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">maxcount</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">161</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">LootStoreItem</span> <span class="TextSegElementIdentifier">storeitem</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">LootStoreItem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">item</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">chanceOrQuestChance</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">group</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">conditionId</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">mincountOrRef</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">maxcount</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">162</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">162</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionGap"><td colspan="5">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">183</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">count</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">183</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">count</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">184</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">184</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">185</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">while</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">result</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">NextRow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">185</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">while</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">result</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">NextRow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">186</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">186</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">187</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">delete</span> <span class="TextSegElementIdentifier">result</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">187</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">delete</span> <span class="TextSegElementIdentifier">result</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">188</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">188</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">189</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; Verify();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // Checks validity of the loot store</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">189</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; Verify(<span class="TextSegSigDiff">lootTypeId</span>);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // Checks validity of the loot store</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">190</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">190</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">191</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; sLog.outString(&quot;&gt;&gt; Loaded %u loot definitions (&quot; SIZEFMTD &quot; templates) from table <span class="TextSegSigDiff">%s</span>&quot;, count, m_LootTemplates.size(), <span class="TextSegSigDiff">Ge</span><span class="TextSegSigDiff">tName</span><span class="TextSegSigDiff">()</span>);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">191</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; sLog.outString(&quot;&gt;&gt; Loaded %u loot definitions (&quot; SIZEFMTD &quot; templates) from table <span class="TextSegSigDiff">loot_template LootType %i</span>&quot;, count, m_LootTemplates.size(), <span class="TextSegSigDiff">lootTypeId</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">192</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">sLog</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">outString</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">192</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">sLog</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">outString</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">193</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">193</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">194</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">else</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">194</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">else</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">195</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">195</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">196</td>
<td class="TextItemSigLeftMod"><span class="TextSegInsigDiff">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="TextSegSigDiff">sLog</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">outString</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">197</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; sLog.outErrorDb(&quot;&gt;&gt; Loaded 0 loot definitions. DB table <span class="TextSegSigDiff">`%</span><span class="TextSegSigDiff">s`</span><span class="TextSegSigDiff"> </span><span class="TextSegSigDiff">i</span><span class="TextSegSigDiff">s</span><span class="TextSegSigDiff"> empt</span><span class="TextSegSigDiff">y</span>.&quot;, <span class="TextSegSigDiff">Ge</span><span class="TextSegSigDiff">tName</span><span class="TextSegSigDiff">()</span>);</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">196</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; sLog.outErrorDb(&quot;&gt;&gt; Loaded 0 loot definitions. DB table <span class="TextSegSigDiff">loot_template is not entries for LootType %d</span>.&quot;, <span class="TextSegSigDiff">lootTypeId</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">198</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">197</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">199</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">198</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">200</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">199</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">201</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">bool</span> <span class="TextSegElementIdentifier">LootStore</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">HaveQuestLootFor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">loot_id</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">const</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">200</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">bool</span> <span class="TextSegElementIdentifier">LootStore</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">HaveQuestLootFor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">loot_id</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">const</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">202</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">201</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">203</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootTemplateMap</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">m_LootTemplates</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">find</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">loot_id</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">202</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootTemplateMap</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">m_LootTemplates</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">find</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">loot_id</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="5">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">245</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">tab</span> <span class="TextSegElementOperator">=</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">m_LootTemplates</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">244</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">tab</span> <span class="TextSegElementOperator">=</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">m_LootTemplates</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">246</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementKeyword">return</span> <span class="TextSegElementIdentifier">NULL</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">245</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementKeyword">return</span> <span class="TextSegElementIdentifier">NULL</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">247</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">246</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">248</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">return</span> <span class="TextSegElementIdentifier">tab</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">second</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">247</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">return</span> <span class="TextSegElementIdentifier">tab</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">second</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">249</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">248</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">250</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">249</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">251</td>
<td class="TextItemSigDiffMod">void LootStore::LoadAndCollectLootIds(LootIdSet&amp; ids_set)</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">250</td>
<td class="TextItemSigDiffMod">void LootStore::LoadAndCollectLootIds(LootIdSet&amp; ids_set<span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">Loot_TypeId</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">lootTypeId</span>)</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">252</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">251</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">253</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LoadLootTable();</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">252</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LoadLootTable(<span class="TextSegSigDiff">lootTypeId</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">254</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">253</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">255</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootTemplateMap</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">tab</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">m_LootTemplates</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">tab</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">m_LootTemplates</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">tab</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">254</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootTemplateMap</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">tab</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">m_LootTemplates</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">tab</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">m_LootTemplates</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">tab</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">256</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">insert</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">tab</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">first</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">255</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">insert</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">tab</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">first</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">257</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">256</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">258</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">257</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">259</td>
<td class="TextItemSigDiffMod">void LootStore::CheckLootRefs(LootIdSet* ref_set) const</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">258</td>
<td class="TextItemSigDiffMod">void LootStore::CheckLootRefs(Loot<span class="TextSegSigDiff">_TypeId</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">lootTypeId</span><span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">Loot</span>IdSet* ref_set) const</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">260</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">259</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">261</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootTemplateMap</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">ltItr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">m_LootTemplates</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">ltItr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">m_LootTemplates</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">ltItr</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">260</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootTemplateMap</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">ltItr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">m_LootTemplates</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">ltItr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">m_LootTemplates</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">ltItr</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">262</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; { ltItr-&gt;second-&gt;CheckLootRefs(ref_set); }</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">261</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; { ltItr-&gt;second-&gt;CheckLootRefs(<span class="TextSegSigDiff">lootTypeId</span><span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span>ref_set); }</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">263</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">262</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">264</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">263</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">265</td>
<td class="TextItemSigDiffMod">void LootStore::ReportUnusedIds(LootIdSet const&amp; ids_set) const</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">264</td>
<td class="TextItemSigDiffMod">void LootStore::ReportUnusedIds(LootIdSet const&amp; ids_set<span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">Loot_TypeId</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">lootTypeId</span>) const</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">266</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">265</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">267</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// all still listed ids isn't referenced</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">266</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// all still listed ids isn't referenced</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">268</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">!</span><span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">empty</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">267</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">!</span><span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">empty</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">269</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">268</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">270</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootIdSet</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">269</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootIdSet</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">271</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sLog.outErrorDb(&quot;Table '<span class="TextSegSigDiff">%s'</span> entry %d isn't %s and not referenced from loot, and then useless.&quot;, <span class="TextSegSigDiff">Ge</span><span class="TextSegSigDiff">tName</span><span class="TextSegSigDiff">()</span>, *itr, GetEntryName());</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">270</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sLog.outErrorDb(&quot;Table '<span class="TextSegSigDiff">loot_template' LootType: %d</span> entry %d isn't %s and not referenced from loot, and then useless.&quot;, <span class="TextSegSigDiff">lootTypeId</span>, *itr, GetEntryName());</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">272</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">sLog</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">outString</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">271</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">sLog</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">outString</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">273</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">272</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">274</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">273</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">275</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">274</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">276</td>
<td class="TextItemSigDiffMod">void LootStore::ReportNotExistedId(uint32 id) const</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">275</td>
<td class="TextItemSigDiffMod">void LootStore::ReportNotExistedId(uint32 id<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">Loot_TypeId</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">lootTypeId</span>) const</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">277</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">276</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">278</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; sLog.outErrorDb(&quot;Table '<span class="TextSegSigDiff">%s'</span> entry %d (%s) not exist but used as loot id in DB.&quot;, <span class="TextSegSigDiff">Ge</span><span class="TextSegSigDiff">tName</span><span class="TextSegSigDiff">()</span>, id, GetEntryName());</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">277</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; sLog.outErrorDb(&quot;Table '<span class="TextSegSigDiff">loot_template' LootType: %d</span> entry %d (%s) not exist but used as loot id in DB.&quot;, <span class="TextSegSigDiff">lootTypeId</span>, id, GetEntryName());</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">279</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">278</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">280</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">279</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">281</td>
<td class="TextItemSame"><span class="TextSegElementComment">//</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">280</td>
<td class="TextItemSame"><span class="TextSegElementComment">//</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">282</td>
<td class="TextItemSame"><span class="TextSegElementComment">// --------- LootStoreItem ---------</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">281</td>
<td class="TextItemSame"><span class="TextSegElementComment">// --------- LootStoreItem ---------</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">283</td>
<td class="TextItemSame"><span class="TextSegElementComment">//</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">282</td>
<td class="TextItemSame"><span class="TextSegElementComment">//</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">284</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">283</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionGap"><td colspan="5">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">444</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">return</span> <span class="TextSegElementIdentifier">LOOT_SLOT_NORMAL</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">443</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">return</span> <span class="TextSegElementIdentifier">LOOT_SLOT_NORMAL</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">445</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">case</span> <span class="TextSegElementIdentifier">GROUP_PERMISSION</span><span class="TextSegElementOperator">:</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">444</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">case</span> <span class="TextSegElementIdentifier">GROUP_PERMISSION</span><span class="TextSegElementOperator">:</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">446</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">445</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">447</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">/// The roll for this item has been done.</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">446</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">/// The roll for this item has been done.</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">448</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">is_underthreshold</span> <span class="TextSegElementOperator">|</span><span class="TextSegElementOperator">|</span> <span class="TextSegElementIdentifier">winner</span> <span class="TextSegElementOperator">|</span><span class="TextSegElementOperator">|</span> <span class="TextSegElementIdentifier">viewer</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">GetGroup</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">IsRollDoneForItem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">WorldObject</span> <span class="TextSegElementOperator">*</span><span class="TextSegElementOperator">)</span><span class="TextSegElementIdentifier">lootTarget</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">this</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">447</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">is_underthreshold</span> <span class="TextSegElementOperator">|</span><span class="TextSegElementOperator">|</span> <span class="TextSegElementIdentifier">winner</span> <span class="TextSegElementOperator">|</span><span class="TextSegElementOperator">|</span> <span class="TextSegElementIdentifier">viewer</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">GetGroup</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">IsRollDoneForItem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">WorldObject</span> <span class="TextSegElementOperator">*</span><span class="TextSegElementOperator">)</span><span class="TextSegElementIdentifier">lootTarget</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">this</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">449</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementKeyword">return</span> <span class="TextSegElementIdentifier">LOOT_SLOT_NORMAL</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">448</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementKeyword">return</span> <span class="TextSegElementIdentifier">LOOT_SLOT_NORMAL</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">450</td>
<td class="TextItemInsigDiffMod"><span class="TextSegInsigDiff">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">449</td>
<td class="TextItemInsigDiffMod">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">451</td>
<td class="TextItemInsigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return LOOT_SLOT_VIEW;<span class="TextSegInsigDiff">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">450</td>
<td class="TextItemInsigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return LOOT_SLOT_VIEW;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">452</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">451</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">453</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">case</span> <span class="TextSegElementIdentifier">MASTER_PERMISSION</span><span class="TextSegElementOperator">:</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">452</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">case</span> <span class="TextSegElementIdentifier">MASTER_PERMISSION</span><span class="TextSegElementOperator">:</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">454</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// If we're not the winner, the item won't show up anymore.</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">453</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// If we're not the winner, the item won't show up anymore.</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">455</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">winner</span> <span class="TextSegElementOperator">&amp;</span><span class="TextSegElementOperator">&amp;</span> <span class="TextSegElementIdentifier">winner</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">viewer</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">GetObjectGuid</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">454</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">winner</span> <span class="TextSegElementOperator">&amp;</span><span class="TextSegElementOperator">&amp;</span> <span class="TextSegElementIdentifier">winner</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">viewer</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">GetObjectGuid</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">456</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementKeyword">return</span> <span class="TextSegElementIdentifier">MAX_LOOT_SLOT_TYPE</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">455</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementKeyword">return</span> <span class="TextSegElementIdentifier">MAX_LOOT_SLOT_TYPE</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">457</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">456</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">458</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">is_underthreshold</span> <span class="TextSegElementOperator">|</span><span class="TextSegElementOperator">|</span> <span class="TextSegElementIdentifier">viewer</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">GetObjectGuid</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">viewer</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">GetGroup</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">GetLooterGuid</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">|</span><span class="TextSegElementOperator">|</span> <span class="TextSegElementIdentifier">winner</span> <span class="TextSegElementOperator">=</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">viewer</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">GetObjectGuid</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">457</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">is_underthreshold</span> <span class="TextSegElementOperator">|</span><span class="TextSegElementOperator">|</span> <span class="TextSegElementIdentifier">viewer</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">GetObjectGuid</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">viewer</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">GetGroup</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">GetLooterGuid</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">|</span><span class="TextSegElementOperator">|</span> <span class="TextSegElementIdentifier">winner</span> <span class="TextSegElementOperator">=</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">viewer</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">GetObjectGuid</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">459</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementKeyword">return</span> <span class="TextSegElementIdentifier">LOOT_SLOT_NORMAL</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">458</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementKeyword">return</span> <span class="TextSegElementIdentifier">LOOT_SLOT_NORMAL</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">460</td>
<td class="TextItemInsigDiffMod"><span class="TextSegInsigDiff">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">459</td>
<td class="TextItemInsigDiffMod">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">461</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">return</span> <span class="TextSegElementIdentifier">LOOT_SLOT_MASTER</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">460</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">return</span> <span class="TextSegElementIdentifier">LOOT_SLOT_MASTER</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">462</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">default</span><span class="TextSegElementOperator">:</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">461</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">default</span><span class="TextSegElementOperator">:</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">463</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">return</span> <span class="TextSegElementIdentifier">MAX_LOOT_SLOT_TYPE</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">462</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">return</span> <span class="TextSegElementIdentifier">MAX_LOOT_SLOT_TYPE</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">464</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">463</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">465</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">464</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">466</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">465</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionGap"><td colspan="5">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1032</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">!</span><span class="TextSegElementIdentifier">EqualChanced</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">empty</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">&amp;</span><span class="TextSegElementOperator">&amp;</span> <span class="TextSegElementIdentifier">result</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementNumber">100.0</span><span class="TextSegElementIdentifier">f</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1031</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">!</span><span class="TextSegElementIdentifier">EqualChanced</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">empty</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">&amp;</span><span class="TextSegElementOperator">&amp;</span> <span class="TextSegElementIdentifier">result</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementNumber">100.0</span><span class="TextSegElementIdentifier">f</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1033</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementKeyword">return</span> <span class="TextSegElementNumber">100.0</span><span class="TextSegElementIdentifier">f</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1032</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementKeyword">return</span> <span class="TextSegElementNumber">100.0</span><span class="TextSegElementIdentifier">f</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1034</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1033</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1035</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">return</span> <span class="TextSegElementIdentifier">result</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1034</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">return</span> <span class="TextSegElementIdentifier">result</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1036</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1035</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1037</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1036</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1038</td>
<td class="TextItemSigDiffMod">void LootTemplate::LootGroup::Verify(LootStore const&amp; lootstore, uint32 id, uint32 group_id) const</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1037</td>
<td class="TextItemSigDiffMod">void LootTemplate::LootGroup::Verify(LootStore const&amp; lootstore, uint32 id, uint32 group_id<span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">Loot_TypeId</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">lootTypeId</span>) const</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1039</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1038</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1040</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">float</span> <span class="TextSegElementIdentifier">chance</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">RawTotalChance</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1039</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">float</span> <span class="TextSegElementIdentifier">chance</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">RawTotalChance</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1041</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">chance</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">101.0</span><span class="TextSegElementIdentifier">f</span><span class="TextSegElementOperator">)</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// TODO: replace with 100% when DBs will be ready</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1040</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">chance</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">101.0</span><span class="TextSegElementIdentifier">f</span><span class="TextSegElementOperator">)</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// TODO: replace with 100% when DBs will be ready</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1042</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1041</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1043</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; sLog.outErrorDb(&quot;Table '<span class="TextSegSigDiff">%s'</span> entry %u group %d has total chance &gt; 100%% (%f)&quot;, loot<span class="TextSegSigDiff">store</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">GetName</span><span class="TextSegSigDiff">()</span>, id, group_id, chance);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1042</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; sLog.outErrorDb(&quot;Table '<span class="TextSegSigDiff">loot_template' LootType: %d</span> entry %u group %d has total chance &gt; 100%% (%f)&quot;, loot<span class="TextSegSigDiff">Typ</span><span class="TextSegSigDiff">eId</span>, id, group_id, chance);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1044</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1043</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1045</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1044</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1046</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">chance</span> <span class="TextSegElementOperator">&gt;</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">100.0</span><span class="TextSegElementIdentifier">f</span> <span class="TextSegElementOperator">&amp;</span><span class="TextSegElementOperator">&amp;</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementIdentifier">EqualChanced</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">empty</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1045</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">chance</span> <span class="TextSegElementOperator">&gt;</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">100.0</span><span class="TextSegElementIdentifier">f</span> <span class="TextSegElementOperator">&amp;</span><span class="TextSegElementOperator">&amp;</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementIdentifier">EqualChanced</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">empty</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1047</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1046</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1048</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; sLog.outErrorDb(&quot;Table '<span class="TextSegSigDiff">%s'</span> entry %u group %d has items with chance=0%% but group total chance &gt;= 100%% (%f)&quot;, loot<span class="TextSegSigDiff">store</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">GetName</span><span class="TextSegSigDiff">()</span>, id, group_id, chance);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1047</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; sLog.outErrorDb(&quot;Table '<span class="TextSegSigDiff">loot_template' LootType: %d</span> entry %u group %d has items with chance=0%% but group total chance &gt;= 100%% (%f)&quot;, loot<span class="TextSegSigDiff">Typ</span><span class="TextSegSigDiff">eId</span>, id, group_id, chance);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1049</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1048</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1050</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1049</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1051</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1050</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1052</td>
<td class="TextItemSigDiffMod">void LootTemplate::LootGroup::CheckLootRefs(LootIdSet* ref_set) const</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1051</td>
<td class="TextItemSigDiffMod">void LootTemplate::LootGroup::CheckLootRefs(Loot<span class="TextSegSigDiff">_TypeId</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">lootTypeId</span><span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">Loot</span>IdSet* ref_set) const</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1053</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1052</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1054</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootStoreItemList</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">ieItr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ExplicitlyChanced</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">ieItr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ExplicitlyChanced</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1053</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootStoreItemList</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">ieItr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ExplicitlyChanced</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">ieItr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ExplicitlyChanced</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1055</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1054</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1056</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">mincountOrRef</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1055</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">mincountOrRef</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1057</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1056</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1058</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">!</span><span class="TextSegElementIdentifier">LootTemplates_Reference</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetLootFor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">-</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">mincountOrRef</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1057</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">!</span><span class="TextSegElementIdentifier">LootTemplates_Reference</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetLootFor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">-</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">mincountOrRef</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1059</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { LootTemplates_Reference.ReportNotExistedId(-ieItr-&gt;mincountOrRef); }</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1058</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { LootTemplates_Reference.ReportNotExistedId(-ieItr-&gt;mincountOrRef<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">lootTypeId</span>); }</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1060</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ref_set</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1059</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ref_set</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1061</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ref_set</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">-</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">mincountOrRef</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1060</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ref_set</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">-</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">mincountOrRef</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1062</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1061</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1063</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1062</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1064</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1063</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1065</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootStoreItemList</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">ieItr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">EqualChanced</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">ieItr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">EqualChanced</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1064</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootStoreItemList</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">ieItr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">EqualChanced</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">ieItr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">EqualChanced</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1066</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1065</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1067</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">mincountOrRef</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1066</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">mincountOrRef</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1068</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1067</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1069</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">!</span><span class="TextSegElementIdentifier">LootTemplates_Reference</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetLootFor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">-</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">mincountOrRef</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1068</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">!</span><span class="TextSegElementIdentifier">LootTemplates_Reference</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetLootFor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">-</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">mincountOrRef</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1070</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { LootTemplates_Reference.ReportNotExistedId(-ieItr-&gt;mincountOrRef); }</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1069</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { LootTemplates_Reference.ReportNotExistedId(-ieItr-&gt;mincountOrRef<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">lootTypeId</span>); }</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1071</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ref_set</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1070</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ref_set</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1072</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ref_set</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">-</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">mincountOrRef</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1071</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ref_set</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">-</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">mincountOrRef</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1073</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1072</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1074</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1073</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1075</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1074</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1076</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1075</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionGap"><td colspan="5">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1265</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementKeyword">return</span> <span class="TextSegElementKeyword">true</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1264</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementKeyword">return</span> <span class="TextSegElementKeyword">true</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1266</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1265</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1267</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">return</span> <span class="TextSegElementKeyword">false</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1266</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">return</span> <span class="TextSegElementKeyword">false</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1268</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1267</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1269</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1268</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1270</td>
<td class="TextItemSame"><span class="TextSegElementComment">// Checks integrity of the template</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1269</td>
<td class="TextItemSame"><span class="TextSegElementComment">// Checks integrity of the template</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1271</td>
<td class="TextItemSigDiffMod">void LootTemplate::Verify(LootStore const&amp; lootstore, uint32 id) const</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1270</td>
<td class="TextItemSigDiffMod">void LootTemplate::Verify(LootStore const&amp; lootstore, uint32 id<span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">Loot_TypeId</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">lootTypeId</span>) const</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1272</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1271</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1273</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// Checking group chances</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1272</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// Checking group chances</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1274</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">Groups</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">size</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1273</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">Groups</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">size</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1275</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; { Groups[i].Verify(lootstore, id, i + 1); }</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1274</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; { Groups[i].Verify(lootstore, id, i + 1<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">lootTypeId</span>); }</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1276</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1275</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1277</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// TODO: References validity checks</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1276</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// TODO: References validity checks</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1278</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1277</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1279</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1278</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1280</td>
<td class="TextItemSigDiffMod">void LootTemplate::CheckLootRefs(LootIdSet* ref_set) const</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1279</td>
<td class="TextItemSigDiffMod">void LootTemplate::CheckLootRefs(Loot<span class="TextSegSigDiff">_TypeId</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">lootTypeId</span><span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">Loot</span>IdSet* ref_set) const</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1281</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1280</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1282</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootStoreItemList</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">ieItr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">Entries</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">ieItr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">Entries</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1281</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootStoreItemList</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">ieItr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">Entries</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">ieItr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">Entries</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1283</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1282</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1284</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">mincountOrRef</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1283</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">mincountOrRef</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1285</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1284</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1286</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">!</span><span class="TextSegElementIdentifier">LootTemplates_Reference</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetLootFor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">-</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">mincountOrRef</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1285</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">!</span><span class="TextSegElementIdentifier">LootTemplates_Reference</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetLootFor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">-</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">mincountOrRef</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1287</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { LootTemplates_Reference.ReportNotExistedId(-ieItr-&gt;mincountOrRef); }</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1286</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { LootTemplates_Reference.ReportNotExistedId(-ieItr-&gt;mincountOrRef<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">lootTypeId</span>); }</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1288</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ref_set</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1287</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ref_set</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1289</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ref_set</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">-</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">mincountOrRef</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1288</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ref_set</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">-</span><span class="TextSegElementIdentifier">ieItr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">mincountOrRef</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1290</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1289</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1291</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1290</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1292</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1291</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1293</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootGroups</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">grItr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">Groups</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">grItr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">Groups</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">grItr</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1292</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootGroups</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">grItr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">Groups</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">grItr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">Groups</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">grItr</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1294</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; { grItr-&gt;CheckLootRefs(ref_set); }</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1293</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; { grItr-&gt;CheckLootRefs(<span class="TextSegSigDiff">lootTypeId</span><span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span>ref_set); }</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1295</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1294</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1296</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1295</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1297</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">LoadLootTemplates_Creature</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1296</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">LoadLootTemplates_Creature</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1298</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1297</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1299</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootIdSet</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1298</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootIdSet</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1300</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Creature.LoadAndCollectLootIds(ids_set);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1299</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Creature.LoadAndCollectLootIds(ids_set<span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">LOOT_TYPE_CREATURE</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1301</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1300</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1302</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// remove real entries and check existence loot</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1301</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// remove real entries and check existence loot</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1303</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">sCreatureStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetMaxEntry</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1302</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">sCreatureStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetMaxEntry</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1304</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1303</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1305</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CreatureInfo</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">cInfo</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">sCreatureStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LookupEntry</span><span class="TextSegElementOperator">&lt;</span><span class="TextSegElementIdentifier">CreatureInfo</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1304</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CreatureInfo</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">cInfo</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">sCreatureStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LookupEntry</span><span class="TextSegElementOperator">&lt;</span><span class="TextSegElementIdentifier">CreatureInfo</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1306</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1305</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1307</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">lootid</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">cInfo</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">LootId</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1306</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">lootid</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">cInfo</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">LootId</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1308</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1307</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1309</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">find</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">lootid</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">=</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1308</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">find</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">lootid</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">=</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1310</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { LootTemplates_Creature.ReportNotExistedId(lootid); }</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1309</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { LootTemplates_Creature.ReportNotExistedId(lootid<span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">LOOT_TYPE_CREATURE</span>); }</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1311</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1310</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1312</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">insert</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">lootid</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1311</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">insert</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">lootid</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1313</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1312</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1314</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1313</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1315</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1314</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1316</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootIdSet</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1315</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootIdSet</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionGap"><td colspan="5">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1318</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1317</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1319</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// for alterac valley we've defined Player-loot inside creature_loot_template id=0</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1318</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// for alterac valley we've defined Player-loot inside creature_loot_template id=0</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1320</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// this hack is used, so that we won't need to create an extra table player_loot_template for just one case</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1319</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// this hack is used, so that we won't need to create an extra table player_loot_template for just one case</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1321</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1320</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1322</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1321</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1323</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// output error for any still listed (not referenced from appropriate table) ids</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1322</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// output error for any still listed (not referenced from appropriate table) ids</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1324</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Creature.ReportUnusedIds(ids_set);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1323</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Creature.ReportUnusedIds(ids_set<span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span><span class="TextSegSigDiff">LOOT_TYPE_CREATURE</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1325</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1324</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1326</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1325</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1327</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">LoadLootTemplates_Disenchant</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1326</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">LoadLootTemplates_Disenchant</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1328</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1327</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1329</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootIdSet</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1328</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootIdSet</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1330</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Disenchant.LoadAndCollectLootIds(ids_set);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1329</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Disenchant.LoadAndCollectLootIds(ids_set<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">LOOT_TYPE_DISENCHANT</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1331</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1330</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1332</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// remove real entries and check existence loot</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1331</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// remove real entries and check existence loot</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1333</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">sItemStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetMaxEntry</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1332</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">sItemStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetMaxEntry</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1334</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1333</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1335</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ItemPrototype</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">proto</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">sItemStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LookupEntry</span><span class="TextSegElementOperator">&lt;</span><span class="TextSegElementIdentifier">ItemPrototype</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1334</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ItemPrototype</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">proto</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">sItemStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LookupEntry</span><span class="TextSegElementOperator">&lt;</span><span class="TextSegElementIdentifier">ItemPrototype</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1336</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1335</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1337</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">lootid</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">proto</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">DisenchantID</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1336</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">lootid</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">proto</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">DisenchantID</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1338</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1337</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1339</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">find</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">lootid</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">=</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1338</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">find</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">lootid</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">=</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1340</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { LootTemplates_Disenchant.ReportNotExistedId(lootid); }</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1339</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { LootTemplates_Disenchant.ReportNotExistedId(lootid<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">LOOT_TYPE_DISENCHANT</span>); }</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1341</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1340</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1342</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">insert</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">lootid</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1341</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">insert</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">lootid</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1343</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1342</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1344</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1343</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1345</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1344</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1346</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootIdSet</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1345</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootIdSet</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1347</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">*</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1346</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">*</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1348</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// output error for any still listed (not referenced from appropriate table) ids</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1347</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// output error for any still listed (not referenced from appropriate table) ids</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1349</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Disenchant.ReportUnusedIds(ids_set);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1348</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Disenchant.ReportUnusedIds(ids_set<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">LOOT_TYPE_DISENCHANT</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1350</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1349</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1351</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1350</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1352</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">LoadLootTemplates_Fishing</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1351</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">LoadLootTemplates_Fishing</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1353</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1352</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1354</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootIdSet</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1353</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootIdSet</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1355</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Fishing.LoadAndCollectLootIds(ids_set);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1354</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Fishing.LoadAndCollectLootIds(ids_set<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">LOOT_TYPE_FISHING</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1356</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1355</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1357</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// remove real entries and check existence loot</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1356</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// remove real entries and check existence loot</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1358</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">sAreaStore</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetNumRows</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1357</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">sAreaStore</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetNumRows</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1359</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1358</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1360</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AreaTableEntry</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">areaEntry</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">sAreaStore</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LookupEntry</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1359</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AreaTableEntry</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">areaEntry</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">sAreaStore</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LookupEntry</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1361</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">find</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">areaEntry</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">ID</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1360</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">find</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">areaEntry</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">ID</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionGap"><td colspan="5">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1363</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1362</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1364</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1363</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1365</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// by default (look config options) fishing at fail provide junk loot, entry 0 use for store this loot</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1364</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// by default (look config options) fishing at fail provide junk loot, entry 0 use for store this loot</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1366</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1365</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1367</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1366</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1368</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// output error for any still listed (not referenced from appropriate table) ids</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1367</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// output error for any still listed (not referenced from appropriate table) ids</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1369</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Fishing.ReportUnusedIds(ids_set);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1368</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Fishing.ReportUnusedIds(ids_set<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">LOOT_TYPE_FISHING</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1370</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1369</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1371</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1370</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1372</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">LoadLootTemplates_Gameobject</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1371</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">LoadLootTemplates_Gameobject</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1373</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1372</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1374</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootIdSet</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1373</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootIdSet</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1375</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Gameobject.LoadAndCollectLootIds(ids_set);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1374</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Gameobject.LoadAndCollectLootIds(ids_set<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">LOOT_TYPE_GAMEOBJECT</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1376</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1375</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1377</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// remove real entries and check existence loot</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1376</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// remove real entries and check existence loot</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1378</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SQLStorageBase</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">SQLSIterator</span><span class="TextSegElementOperator">&lt;</span><span class="TextSegElementIdentifier">GameObjectInfo</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">sGOStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">getDataBegin</span><span class="TextSegElementOperator">&lt;</span><span class="TextSegElementIdentifier">GameObjectInfo</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">sGOStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">getDataEnd</span><span class="TextSegElementOperator">&lt;</span><span class="TextSegElementIdentifier">GameObjectInfo</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1377</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SQLStorageBase</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">SQLSIterator</span><span class="TextSegElementOperator">&lt;</span><span class="TextSegElementIdentifier">GameObjectInfo</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">sGOStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">getDataBegin</span><span class="TextSegElementOperator">&lt;</span><span class="TextSegElementIdentifier">GameObjectInfo</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">sGOStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">getDataEnd</span><span class="TextSegElementOperator">&lt;</span><span class="TextSegElementIdentifier">GameObjectInfo</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1379</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1378</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1380</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">lootid</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">GetLootId</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1379</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">lootid</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">GetLootId</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1381</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1380</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1382</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">find</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">lootid</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">=</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1381</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">find</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">lootid</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">=</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1383</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { LootTemplates_Gameobject.ReportNotExistedId(lootid); }</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1382</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { LootTemplates_Gameobject.ReportNotExistedId(lootid<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">LOOT_TYPE_GAMEOBJECT</span>); }</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1384</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1383</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1385</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">insert</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">lootid</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1384</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">insert</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">lootid</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1386</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1385</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1387</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1386</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1388</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootIdSet</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1387</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootIdSet</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1389</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">*</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1388</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">*</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1390</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1389</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1391</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// output error for any still listed (not referenced from appropriate table) ids</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1390</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// output error for any still listed (not referenced from appropriate table) ids</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1392</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Gameobject.ReportUnusedIds(ids_set);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1391</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Gameobject.ReportUnusedIds(ids_set<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">LOOT_TYPE_GAMEOBJECT</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1393</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1392</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1394</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1393</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1395</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">LoadLootTemplates_Item</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1394</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">LoadLootTemplates_Item</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1396</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1395</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1397</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootIdSet</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1396</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootIdSet</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1398</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Item.LoadAndCollectLootIds(ids_set);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1397</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Item.LoadAndCollectLootIds(ids_set<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">LOOT_TYPE_ITEM</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1399</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1398</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1400</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// remove real entries and check existence loot</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1399</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// remove real entries and check existence loot</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1401</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">sItemStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetMaxEntry</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1400</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">sItemStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetMaxEntry</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1402</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1401</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1403</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ItemPrototype</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">proto</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">sItemStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LookupEntry</span><span class="TextSegElementOperator">&lt;</span><span class="TextSegElementIdentifier">ItemPrototype</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1402</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ItemPrototype</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">proto</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">sItemStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LookupEntry</span><span class="TextSegElementOperator">&lt;</span><span class="TextSegElementIdentifier">ItemPrototype</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1404</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1403</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionGap"><td colspan="5">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1406</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementKeyword">continue</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1405</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementKeyword">continue</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1407</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1406</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1408</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">find</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">proto</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">ItemId</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">|</span><span class="TextSegElementOperator">|</span> <span class="TextSegElementIdentifier">proto</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">MaxMoneyLoot</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1407</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">find</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">proto</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">ItemId</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">|</span><span class="TextSegElementOperator">|</span> <span class="TextSegElementIdentifier">proto</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">MaxMoneyLoot</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1409</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">proto</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">ItemId</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1408</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">proto</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">ItemId</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1410</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// wdb have wrong data cases, so skip by default</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1409</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// wdb have wrong data cases, so skip by default</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1411</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">!</span><span class="TextSegElementIdentifier">sLog</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">HasLogFilter</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LOG_FILTER_DB_STRICTED_CHECK</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1410</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">!</span><span class="TextSegElementIdentifier">sLog</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">HasLogFilter</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LOG_FILTER_DB_STRICTED_CHECK</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1412</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { LootTemplates_Item.ReportNotExistedId(proto-&gt;ItemId); }</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1411</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { LootTemplates_Item.ReportNotExistedId(proto-&gt;ItemId<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">LOOT_TYPE_ITEM</span>); }</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1413</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1412</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1414</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1413</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1415</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1414</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1416</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// output error for any still listed (not referenced from appropriate table) ids</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1415</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// output error for any still listed (not referenced from appropriate table) ids</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1417</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Item.ReportUnusedIds(ids_set);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1416</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Item.ReportUnusedIds(ids_set<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">LOOT_TYPE_ITEM</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1418</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1417</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1419</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1418</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1420</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">LoadLootTemplates_Pickpocketing</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1419</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">LoadLootTemplates_Pickpocketing</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1421</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1420</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1422</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootIdSet</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1421</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootIdSet</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1423</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Pickpocketing.LoadAndCollectLootIds(ids_set);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1422</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Pickpocketing.LoadAndCollectLootIds(ids_set<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">LOOT_TYPE_PICKPOCKETING</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1424</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1423</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1425</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// remove real entries and check existence loot</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1424</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// remove real entries and check existence loot</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1426</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">sCreatureStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetMaxEntry</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1425</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">sCreatureStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetMaxEntry</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1427</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1426</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1428</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CreatureInfo</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">cInfo</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">sCreatureStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LookupEntry</span><span class="TextSegElementOperator">&lt;</span><span class="TextSegElementIdentifier">CreatureInfo</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1427</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CreatureInfo</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">cInfo</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">sCreatureStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LookupEntry</span><span class="TextSegElementOperator">&lt;</span><span class="TextSegElementIdentifier">CreatureInfo</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1429</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1428</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1430</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">lootid</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">cInfo</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">PickpocketLootId</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1429</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">lootid</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">cInfo</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">PickpocketLootId</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1431</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1430</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1432</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">find</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">lootid</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">=</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1431</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">find</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">lootid</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">=</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1433</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { LootTemplates_Pickpocketing.ReportNotExistedId(lootid); }</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1432</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { LootTemplates_Pickpocketing.ReportNotExistedId(lootid<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">LOOT_TYPE_PICKPOCKETING</span>); }</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1434</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1433</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1435</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">insert</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">lootid</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1434</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">insert</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">lootid</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1436</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1435</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1437</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1436</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1438</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1437</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1439</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootIdSet</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1438</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootIdSet</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1440</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">*</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1439</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">*</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1441</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1440</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1442</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// output error for any still listed (not referenced from appropriate table) ids</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1441</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// output error for any still listed (not referenced from appropriate table) ids</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1443</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Pickpocketing.ReportUnusedIds(ids_set);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1442</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Pickpocketing.ReportUnusedIds(ids_set<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">LOOT_TYPE_PICKPOCKETING</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1444</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1443</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1445</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1444</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1446</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">LoadLootTemplates_Mail</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1445</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">LoadLootTemplates_Mail</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1447</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1446</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1448</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootIdSet</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1447</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootIdSet</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1449</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Mail.LoadAndCollectLootIds(ids_set);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1448</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Mail.LoadAndCollectLootIds(ids_set<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">LOOT_TYPE_MAIL</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1450</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1449</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1451</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// remove real entries and check existence loot</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1450</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// remove real entries and check existence loot</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1452</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">sMailTemplateStore</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetNumRows</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1451</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">sMailTemplateStore</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetNumRows</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1453</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sMailTemplateStore</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LookupEntry</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1452</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sMailTemplateStore</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LookupEntry</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1454</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">find</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1453</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">find</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1455</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1454</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1456</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1455</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1457</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// output error for any still listed (not referenced from appropriate table) ids</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1456</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// output error for any still listed (not referenced from appropriate table) ids</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1458</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Mail.ReportUnusedIds(ids_set);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1457</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Mail.ReportUnusedIds(ids_set<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">LOOT_TYPE_MAIL</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1459</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1458</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1460</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1459</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1461</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">LoadLootTemplates_Skinning</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1460</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">LoadLootTemplates_Skinning</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1462</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1461</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1463</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootIdSet</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1462</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootIdSet</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1464</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Skinning.LoadAndCollectLootIds(ids_set);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1463</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Skinning.LoadAndCollectLootIds(ids_set<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">LOOT_TYPE_SKINNING</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1465</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1464</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1466</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// remove real entries and check existence loot</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1465</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// remove real entries and check existence loot</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1467</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">sCreatureStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetMaxEntry</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1466</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">sCreatureStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetMaxEntry</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1468</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1467</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1469</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CreatureInfo</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">cInfo</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">sCreatureStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LookupEntry</span><span class="TextSegElementOperator">&lt;</span><span class="TextSegElementIdentifier">CreatureInfo</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1468</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CreatureInfo</span> <span class="TextSegElementKeyword">const</span><span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">cInfo</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">sCreatureStorage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LookupEntry</span><span class="TextSegElementOperator">&lt;</span><span class="TextSegElementIdentifier">CreatureInfo</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1470</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1469</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1471</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">lootid</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">cInfo</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">SkinningLootId</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1470</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uint32</span> <span class="TextSegElementIdentifier">lootid</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">cInfo</span><span class="TextSegElementOperator">-</span><span class="TextSegElementOperator">&gt;</span><span class="TextSegElementIdentifier">SkinningLootId</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1472</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1471</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1473</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">find</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">lootid</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">=</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1472</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">find</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">lootid</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">=</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1474</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { LootTemplates_Skinning.ReportNotExistedId(lootid); }</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1473</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { LootTemplates_Skinning.ReportNotExistedId(lootid<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">LOOT_TYPE_SKINNING</span>); }</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1475</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1474</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1476</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">insert</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">lootid</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1475</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">insert</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">lootid</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1477</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1476</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1478</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1477</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1479</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1478</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1480</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootIdSet</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1479</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LootIdSet</span><span class="TextSegElementOperator">:</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">const_iterator</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">begin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">itr</span> <span class="TextSegElementOperator">!</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ids_setUsed</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">end</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">+</span><span class="TextSegElementOperator">+</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1481</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">*</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1480</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">{</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">erase</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">*</span><span class="TextSegElementIdentifier">itr</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1482</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1481</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1483</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// output error for any still listed (not referenced from appropriate table) ids</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1482</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// output error for any still listed (not referenced from appropriate table) ids</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1484</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Skinning.ReportUnusedIds(ids_set);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1483</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Skinning.ReportUnusedIds(ids_set<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">LOOT_TYPE_SKINNING</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1485</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1484</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1486</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1485</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1487</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">LoadLootTemplates_Reference</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1486</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">void</span> <span class="TextSegElementIdentifier">LoadLootTemplates_Reference</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1488</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1487</td>
<td class="TextItemSame"><span class="TextSegElementOperator">{</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1489</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootIdSet</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">;</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1488</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LootIdSet</span> <span class="TextSegElementIdentifier">ids_set</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1490</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Reference.LoadAndCollectLootIds(ids_set);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1489</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Reference.LoadAndCollectLootIds(ids_set<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">LOOT_TYPE_REFERENCE</span>);</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1491</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1490</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">-+</td>
<td class="TextItemNum AlignRight">1491</td>
<td class="TextItemSigRightMod"><span class="TextSegInsigDiff">&nbsp; &nbsp; </span><span class="TextSegSigDiff">sLog</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">outString</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1492</td>
<td class="TextItemInsigRightMod">&nbsp;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1492</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// check references and remove used</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1493</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// check references and remove used</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1493</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Creature.CheckLootRefs(&amp;ids_set);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1494</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Creature.CheckLootRefs(<span class="TextSegSigDiff">LOOT_TYPE_CREATURE</span><span class="TextSegSigDiff">,</span>&amp;ids_set);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1494</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Fishing.CheckLootRefs(&amp;ids_set);</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1495</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Fishing.CheckLootRefs(<span class="TextSegSigDiff">LOOT_TYPE_FISHING</span><span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span>&amp;ids_set);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1495</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Gameobject.CheckLootRefs(&amp;ids_set);</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1496</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Gameobject.CheckLootRefs(<span class="TextSegSigDiff">LOOT_TYPE_GAMEOBJECT</span><span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span>&amp;ids_set);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1496</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Item.CheckLootRefs(&amp;ids_set);</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1497</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Item.CheckLootRefs(<span class="TextSegSigDiff">LOOT_TYPE_ITEM</span><span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span>&amp;ids_set);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1497</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Pickpocketing.CheckLootRefs(&amp;ids_set);</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1498</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Pickpocketing.CheckLootRefs(<span class="TextSegSigDiff">LOOT_TYPE_PICKPOCKETING</span><span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span>&amp;ids_set);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1498</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Skinning.CheckLootRefs(&amp;ids_set);</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1499</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Skinning.CheckLootRefs(<span class="TextSegSigDiff">LOOT_TYPE_SKINNING</span><span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span>&amp;ids_set);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1499</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Disenchant.CheckLootRefs(&amp;ids_set);</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1500</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Disenchant.CheckLootRefs(<span class="TextSegSigDiff">LOOT_TYPE_DISENCHANT</span><span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span>&amp;ids_set);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1500</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Mail.CheckLootRefs(&amp;ids_set);</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1501</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Mail.CheckLootRefs(<span class="TextSegSigDiff">LOOT_TYPE_MAIL</span><span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span>&amp;ids_set);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1501</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Reference.CheckLootRefs(&amp;ids_set);</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1502</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Reference.CheckLootRefs(<span class="TextSegSigDiff">LOOT_TYPE_REFERENCE</span><span class="TextSegSigDiff">,</span><span class="TextSegInsigDiff"> </span>&amp;ids_set);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1502</td>
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1503</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1503</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// output error for any still listed ids (not referenced from any loot table)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemNum AlignRight">1504</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// output error for any still listed ids (not referenced from any loot table)</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1504</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Reference.ReportUnusedIds(ids_set);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="TextItemNum AlignRight">1505</td>
<td class="TextItemSigDiffMod">&nbsp; &nbsp; LootTemplates_Reference.ReportUnusedIds(ids_set<span class="TextSegSigDiff">,</span><span class="TextSegSigDiff">LOOT_TYPE_NONE</span>);</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1505</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemNum AlignRight">1506</td>
<td class="TextItemSame"><span class="TextSegElementOperator">}</span></td>
</tr>
</table>
<br/>
</body>
</html>
